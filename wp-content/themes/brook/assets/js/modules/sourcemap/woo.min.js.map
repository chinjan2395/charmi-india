{"version":3,"sources":["begin-wrapper.js","woo.js"],"names":["jQuery","document","ready","$","$miniCart","$body","on","hasClass","this","addClass","window","location","href","data","e","target","closest","length","removeClass","$qty","siblings","currentVal","parseFloat","val","max","attr","min","step","undefined","is","trigger","$insight","noticeCookieEnable","noticeCookieConfirm","noticeCookieMessages","growl","fixed","duration","title","message","parents","first","_data","param","action","ajax","url","ajaxurl","type","dataType","success","results","notice","noticeCookieOKMessages","error","errorThrown","alert","$slider","$form","variations","isProduct","productFeatureStyle","lightSlider","gallery","item","loop","thumbItem","slideMargin","enableDrag","currentPagerPosition","adaptiveHeight","onSliderLoad","el","lightGallery","selector","find","test","globalAttrs","formValues","serializeArray","i","_name","name","substring","value","globalKey","currentAttrs","attributes","valid","pass","currentKey","globalVal","image","each","index","goToSlide","initProductImagesSlider"],"mappings":"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","file":"../../woo.min.js","sourcesContent":["jQuery( document ).ready( function( $ ) {\n\t'use strict';\n\n\tvar $body = $( 'body' );\n","initMiniCart();\ninitQuantityButtons();\ninitCookieNotice();\ninitProductImagesSlider();\n\nfunction initCookieNotice() {\n\tif ( $insight.noticeCookieEnable == 1 && $insight.noticeCookieConfirm != 'yes' && $insight.noticeCookieMessages != '' ) {\n\n\t\t$.growl( {\n\t\t\tlocation: 'br',\n\t\t\tfixed: true,\n\t\t\tduration: 3600000,\n\t\t\ttitle: '',\n\t\t\tmessage: $insight.noticeCookieMessages\n\t\t} );\n\n\t\t$( '#tm-button-cookie-notice-ok' ).on( 'click', function() {\n\t\t\t$( this ).parents( '.growl-message' ).first().siblings( '.growl-close' ).trigger( 'click' );\n\n\t\t\tvar _data = {\n\t\t\t\taction: 'notice_cookie_confirm'\n\t\t\t};\n\n\t\t\t_data = $.param( _data );\n\n\t\t\t$.ajax( {\n\t\t\t\turl: $insight.ajaxurl,\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: _data,\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: function( results ) {\n\n\t\t\t\t\t$.growl.notice( {\n\t\t\t\t\t\tlocation: 'br',\n\t\t\t\t\t\tduration: 5000,\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tmessage: $insight.noticeCookieOKMessages\n\t\t\t\t\t} );\n\n\t\t\t\t},\n\t\t\t\terror: function( errorThrown ) {\n\t\t\t\t\talert( errorThrown );\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n}\n\nfunction initMiniCart() {\n\tvar $miniCart = $( '#mini-cart' );\n\t$miniCart.on( 'click', function() {\n\t\tif ( $body.hasClass( 'desktop' ) ) {\n\t\t\t$( this ).addClass( 'open' );\n\t\t} else {\n\t\t\twindow.location.href = $( this ).data( 'url' );\n\t\t}\n\t} );\n\n\t$( document ).on( 'click', function( e ) {\n\t\tif ( $( e.target ).closest( $miniCart ).length == 0 ) {\n\t\t\t$miniCart.removeClass( 'open' );\n\t\t}\n\t} );\n}\n\nfunction initQuantityButtons() {\n\t$( document ).on( 'click', '.increase, .decrease', function() {\n\n\t\t// Get values\n\t\tvar $qty       = $( this ).siblings( '.qty' ),\n\t\t    currentVal = parseFloat( $qty.val() ),\n\t\t    max        = parseFloat( $qty.attr( 'max' ) ),\n\t\t    min        = parseFloat( $qty.attr( 'min' ) ),\n\t\t    step       = $qty.attr( 'step' );\n\n\t\t// Format values\n\t\tif ( ! currentVal || currentVal === '' || currentVal === 'NaN' ) {\n\t\t\tcurrentVal = 0;\n\t\t}\n\t\tif ( max === '' || max === 'NaN' ) {\n\t\t\tmax = '';\n\t\t}\n\t\tif ( min === '' || min === 'NaN' ) {\n\t\t\tmin = 0;\n\t\t}\n\t\tif ( step === 'any' || step === '' || step === undefined || parseFloat( step ) === 'NaN' ) {\n\t\t\tstep = 1;\n\t\t}\n\n\t\t// Change the value\n\t\tif ( $( this ).is( '.increase' ) ) {\n\n\t\t\tif ( max && (\n\t\t\t\tmax == currentVal || currentVal > max\n\t\t\t) ) {\n\t\t\t\t$qty.val( max );\n\t\t\t} else {\n\t\t\t\t$qty.val( currentVal + parseFloat( step ) );\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( min && (\n\t\t\t\tmin == currentVal || currentVal < min\n\t\t\t) ) {\n\t\t\t\t$qty.val( min );\n\t\t\t} else if ( currentVal > 0 ) {\n\t\t\t\t$qty.val( currentVal - parseFloat( step ) );\n\t\t\t}\n\n\t\t}\n\n\t\t// Trigger change event.\n\t\t$qty.trigger( 'change' );\n\t} );\n}\n\nfunction initProductImagesSlider() {\n\tif ( $insight.isProduct === '1' && $insight.productFeatureStyle === 'slider' ) {\n\t\tvar $slider = $( '#woo-single-gallery' ).lightSlider( {\n\t\t\tgallery: true,\n\t\t\titem: 1,\n\t\t\tloop: true,\n\t\t\tthumbItem: 4,\n\t\t\tslideMargin: 0,\n\t\t\tenableDrag: false,\n\t\t\tcurrentPagerPosition: 'left',\n\t\t\tadaptiveHeight: true,\n\n\t\t\tonSliderLoad: function( el ) {\n\t\t\t\tel.lightGallery( {\n\t\t\t\t\tselector: '#woo-single-gallery .lslide'\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\tvar $form = $( '.variations_form' );\n\t\tvar variations = $form.data( 'product_variations' );\n\n\t\t$form.find( 'select' ).on( 'change', function() {\n\t\t\tvar test = true;\n\t\t\tvar globalAttrs = {};\n\n\t\t\tvar formValues = $form.serializeArray();\n\t\t\tfor ( var i = 0; i < formValues.length; i ++ ) {\n\n\t\t\t\tvar _name = formValues[ i ].name;\n\t\t\t\tif ( _name.substring( 0, 10 ) === 'attribute_' ) {\n\n\t\t\t\t\tglobalAttrs[ _name ] = formValues[ i ].value;\n\n\t\t\t\t\tif ( formValues[ i ].value === '' ) {\n\t\t\t\t\t\ttest = false;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// When all variations selected.\n\t\t\tif ( test === true ) {\n\t\t\t\tvar url = '';\n\n\t\t\t\tfor ( var i = 0; i < variations.length; i ++ ) {\n\t\t\t\t\tvar currentAttrs = variations[ i ].attributes;\n\n\t\t\t\t\tvar valid = true;\n\t\t\t\t\tvar pass = true;\n\n\t\t\t\t\tfor ( var globalKey in globalAttrs ) {\n\t\t\t\t\t\tfor ( var currentKey in currentAttrs ) {\n\t\t\t\t\t\t\tvar globalVal = globalAttrs[ globalKey ];\n\t\t\t\t\t\t\tvar currentVal = currentAttrs[ currentKey ];\n\n\t\t\t\t\t\t\tif ( currentKey === globalKey ) {\n\t\t\t\t\t\t\t\tif ( currentVal === '' ) {\n\t\t\t\t\t\t\t\t\tpass = false;\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( currentVal !== globalVal ) {\n\t\t\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( valid === true ) {\n\t\t\t\t\t\turl = variations[ i ].image.url;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( valid === true && pass === true ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( url !== '' ) {\n\t\t\t\t\t$slider.find( 'li' ).each( function( index ) {\n\t\t\t\t\t\t// Skip if clone slide.\n\t\t\t\t\t\tif ( $( this ).hasClass( 'clone' ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get product image src.\n\t\t\t\t\t\tvar fullImage = $( this ).attr( 'data-src' );\n\n\t\t\t\t\t\t// If equal with variations image & not slide active.\n\t\t\t\t\t\tif ( fullImage === url && ! $( this ).hasClass( 'active' ) ) {\n\t\t\t\t\t\t\t$slider.goToSlide( index );\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Reset to main image.\n\t\t\t\tvar $mainImage = $slider.find( '.woocommerce-main-image' );\n\t\t\t\tvar index = $mainImage.index();\n\t\t\t\t$slider.goToSlide( index );\n\t\t\t}\n\t\t} );\n\t}\n}\n"]}